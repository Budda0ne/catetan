---
categories: [arsip]
title: "Optimasi Squid Proxy Server untuk Windows"
date: '2012-06-19T00:14:00.001+07:00'
# author: Phate Holloway
tags:
 - Proxy
 - Windows
 - Internet
 - Squid
last_modified_at: '2018-06-25T22:53:35.658+07:00'
# blogger_id: tag:blogger.com,1999:blog-8168996750712797250.post-3252730588665916394
redirect_from:
  - /2012/06/optimasi-squid-proxy-server-windows.html
---

Mungkin Anda sudah tahu <a href="/2012/05/install-proxy-server-squid-27-stable8.html" title="Instalasi Squid Proxy Server">cara install squid proxy server</a>, tetapi belum melakukan optimasi agar Squid bekerja lebih cepat dan stabil. Berikut ini adalah experimen saya, yang sudah pernah saya uji coba (tentu saja di warnet) dan bekerja dengan benar setidaknya dengan menggunkan sistem operasi Windows (maksud saya jika digunakan di Linux, tentu labih baik). Sebenarnya tutorial ini adalah penggabungan beberapa tutorial yang ada di beberapa blog, Squid Wiki (bukan wikipedia) dan dari beberapa referensi lain dan saya tulis kembali dengan penyesuaian-penyesuaian berdasarkan experiman yang saya uji-cobakan.<br /><noscript><img src="https://dummyimage.com/600x300/000000/cccccc.gif&text=Optimasi+Squid+Proxy"/></noscript><br /><h3>Persiapan Yang Perlu dilakukan, Spesifikasi Hardware dan Spesifikasi Software</h3>Sebelum mulai melakukan eksperimen ini akan lebih baik jika kita perlu mengetahui kemudian mempersiapkan apa saja yang dibutuhkan, termasuk spesifikasi dan lain-lain.<br /><br />Squid Proxy Server ini sebenarnya tidak memerlukan spesifikasi yang tinggi untuk kebutuhan Hardware-nya. dengan <b>Processor Celeron</b> kisaran frekuensi 1<b>,8 GHz</b> dan besaran <b>Memory (RAM) 512MB</b> saja sudah cukup. Tetapi untuk Hardisk, saya menyarankan yang mempunyai kecepatan baca-tulis (R/W) dan <b>RPM yang tinggi</b> walaupun kapasitasnya tidak besar, lebih bagus lagi jika Hardisknya menggunakan yang br-tipe <a href="http://en.wikipedia/wiki/SCSI" rel="nofollow">SCSI</a>, <a href="http://en.wikipedia/wiki/SAS" target="_blank">SAS</a> atau semacamnya. Dan sangat saya sarankan untuk menggunakan Hardisk yang berbeda untuk <a href="/search/?q=sistem%20operasi">Sistem Operasi</a> dan untuk <b>Disk Cache</b> yang disediakan khusus untuk <b>Squid Proxy Server</b>. Jadi setidaknya Sediakan 2 Hardisk 7200 RPM.<br />Saya sendiri menggunakan spesifikasi berikut:<br /><ul><li>Proc: Intel Dual Core 3.0 GHz</li><li>Memory/RAM: Kingstone 2 Gb</li><li>Hardisk: <del>Seagate Sata 160</del> 80 Gb 7200 RPM</li></ul><blockquote>Note: awalnya saya kira dengan menggunakan Hardisk berkapasitas besar meningkatkan performa, tapi ternyata malah 'melempem' jadi saya coba menggunakan <b>Hardisk 80 Gb</b> agar putaran hardisk konstan dan <b>pen optik</b> hardisk tidak terlalu jauh 'mentang' ketika membaca data 'cache'</blockquote>Karena saya memang ingin benar-benar menguji kemampuan squid di Windows. Sebab sudah terlanjur muncul pendapat <b><q>Jangan pernah menggunakan Squid di sistem operasi Microsoft sebab Squid di ciptakan untuk Linux</q></b>.<br /><br />Pendapat saya seperti ini: <q>Jika memang Squid HANYA diciptakan untuk LINUX, mengapa www.squid-cache.org sebagai pengembang menciptakan <b>varian untuk WINDOWS</b>?</q><br /><br />Sistem operasi yang di sarankan sebenarnya adalah linux, karena pada awalnya Squid memang dikembangkan dan digunakan untuk mesin-mesin Linux. Tetapi karena topiknya adalah <a href="/2012/06/optimasi-squid-proxy-server-windows.html">Optimasi Squid Proxy Server untuk Windows</a>, maka paling tidak kita menggunakan sistem operasi Microsoft Windows XP. Nah disini saya menggunakan Sistem Operasi Windows 7. Tidak masalah jika Anda mencoba mengikuti panduan ini untuk Windows XP, karena pada dasarnya sama saja. Mungkin hanya letaknya saja yang berbeda.<br />Penting juga untuk diketahui bahwa: jika Squid Proxy Server ini di-install pada mesin Linux maka sangat di anjurkan untuk menggunakan Filesistem RaiserFS, yang mempunyai kecepatan baca-tulis yang lebih baik daripada Filesistem ext3. Nah, karena kita menggunakan mesin Windows, kita hanya punya opsi menggunakan NTFS sebagai Filesistem terbaik milik Windows saat ini.<br /><h3>Proses Instalasi dan Optimasi</h3>Urutan-nya, setelah kita mempersiapkan segala sesuatunya dan mengetahui apa saja yang dibutuhkan, tentu saja instalasi dari Squid Proxy Server itu sendiri. Langkah Intalasi Squid untuk Windows bisa di baca di artikel <a href="/2012/05/install-proxy-server-squid-27-stable8.html">ini</a>. Kebetulan saya menggunakan versi stabil: <a href="/2012/06/optimasi-squid-proxy-server-windows.html" title="Squid">Squid 2.7stable8 untuk Windows</a>.<br /><br />namun untuk file SQUID.CONF-nya bisa menggunakan konfigurasi seperti berikut:<br /><pre>hosts_file /etc/hosts # ini diganti dengan lokasi host squid misal c:/squid/etc/hosts<br />dns_nameservers 208.67.222.222 208.67.220.220<br />cache_replacement_policy heap LFUDA<br />cache_swap_low 90<br />cache_swap_high 95<br />maximum_object_size_in_memory 50 KB<br />cache_dir aufs /var/spool/squid 10000 16 256<br />cache_mem 64 MB<br />logfile_rotate 10<br />memory_pools off<br />maximum_object_size 50 MB<br />quick_abort_min 0 KB<br />quick_abort_max 0 KB<br />log_icp_queries off<br />client_db off<br />buffered_logs on<br />half_closed_clients off<br /></pre><blockquote class="update">update artikel tanggal: 16 September 2012<br />- - <strong>contoh <a href="/p/outbond.html?url=http://db.tt/0bP2rYwq">file squid.conf</a></strong> terakhir yang saya gunakan juga bisa anda pakai</blockquote>Apa maksud opsi-opsi diatas? sebagian mungkin sudah saya jelaskan di <a href="/2012/05/install-proxy-server-squid-27-stable8.html">artikel sebelumnya</a>. Untuk memperjelas maksud dari Optimasi ini dan konsep-konsep dasarnya, saya akan menjelsakan beberapa hal yang penting untuk di ketahui agar nantinya, jika terjadi kesalahan atau hasilnya tidak sesuai harapan, Anda bisa mencoba settingan lain yang lebih cocok menurut Anda sendiri :)<br /><br /><amp-ad width="100vw" height="320"      type="adsense"      data-ad-client="ca-pub-8526606076277673"      data-ad-slot="1181493937"      data-auto-format="rspv"      data-full-width="">  <div overflow=""></div></amp-ad><q>hosts_file /etc/hosts</q> opsi ini untuk memerintahkan squid untuk melihat entri yang ada di /etc/hosts, hal ini berguna jika anda ingin memblokir iklan atau situs jahat dengan memanfaatkan file /etc/hosts, di windows biasanya lebih bagus jika diberikan path/lokasi lengkap misalnya c:/squid/etc/hosts<br /><br /><q>dns_nameservers 208.67.222.222 208.67.220.220</q> <b>Ini Penting!</b> Squid akan mem-pause (menghentikan sementara) koneksi ketika melakukan DNS lookup. Dengan memasukkan DNS, maka akan mencegah hal ini. Disini saya menuliskan DNS dari OpenDNS. Namun tidak apa jika Anda mencoba menggunakan DNS dari Google (8.8.8.8, 8.8.4.4) atau DNS lain. Misalnya saja NAWALA milik Depkominfo.<br /><br /><q>cache_replacement_policy heap LFUDA</q> ini adalah pilihan replacement policy, dimana saya menggunakan heal LFUDA. Anda bisa menggunakan pilihan lain, info lengkap perihal <a href="http://www.visolve.com/squid/squid26/cachesize.php#cache_replacement_policy" >cache_replacement_policy</a>.<br /><br /><q>cache_swap_low 90</q> adalah prosentase dimana squid akan melakukan pembersihan cache, jadi jika anda memiliki 10 GB , maka squid akan melakukan pembersihan cache lama pada penggunaan 9 GB.<br /><br /><q>cache_swap_high 95</q> secara agresif squid akan menghapus file cache lama dengan menggunakan opsi replacement policy yang disebutkan diatas.<br /><br /><q>maximum_object_size_in_memory 50 KB</q> Ini untuk menentukan besaran file yang akan disimpan di memori. Pada konfigurasi ini saya mengaturnya maksimum hanya 50 KB, ini agar tidak mengganggu memori. Penyimpanan file yang besar di memori akan memberikan beban tinggi sehingga mmeori tidak bisa dikontrol dengan baik.<br /><br /><q>cache_dir aufs /var/spool/squid 10000 16 256</q> Dianjurkan untuk tidak mengubah opsi AUFS, karena opsi ini memiliki performa yang lebih bagus dari opsi lain (di artikel terdahulu saya menggunakan opsi UFS). Angka 10000 adalah jumlah besarnya file cache yang digunakan squid dalam MB.<br /><br /><q>cache_mem 64 MB</q> Jangan mengatur cache_mem terlalu besar. Cache_mem menunjukkan jumlah maksimal RAM yang digunakan oleh squid untuk menyimpan obyek di memori. Ingat, squid membutuhkan RAM sekitar 100 MB per 1 GB file cache. Jadi, jika Anda menggunakan 10 GB file cache, maka squid membutuhkan RAM minimal 1 GB.<br /><br /><q>memory_pools off</q> Menghentikan squid menempel di memori ketika tidak ada aktifitas.<br /><br /><q>maximum_object_size 50 MB</q> ini adalah jumlah maksimum obyek yang akan disimpan oleh squid. Dianjurkan untuk tidak mengaturnya terlalu besar.<br /><br /><q>quick_abort_min 0 KB</q> opsi ini sangat berguna, tetapi dalam kasus tertentu akan membuat squid tidak optimal. Quick_abort_time akan mengevaluasi berapa banyak sisa data yang akan ditransfer jika klien membatalkannya. Jika nilainya berada dalam <br />range quick_abort, maka squid akan melanjutkan download sampai selesai dan kemudian menyimpannya di cache. Memang terdengar bagus, namun masalah akan muncul jika klien melakukan beberapa koneksi, maka squid akan menyelesaikan proses download untuk semua koneksi, dan akibatnya squid menjadi lambat. Dengan mengaturnya ke angka 0, maka squid akan menonaktifkan opsi ini.<br /><br /><q>quick_abort_max 0 KB</q> fungsi sama dengan quick_abort_min<br /><br /><q>log_icp_queries off</q> jika anda menggunakan cache_peer, maka opsi ini akan menghentikan squid untuk selalu melakukan query ke masing-masing cache_peer.<br /><br /><q>client_db off</q> jika diaktifkan maka squid akan menyimpan statistik semua klien, hal ini bisa membebani mmeori, maka sebaiknya dinonaktifkan.<br /><br /><q>buffered_logs on</q> melakukan buffering pada penulisan file log, dapat meingkatkan performa squid.<br /><br /><q>half_closed_clients off</q> mengirimkan connection-close ke klien sehingga membuka setengah koneksi untuk squid.<br />Setelah konfigurasi <b>squid.conf</b> dilakukan, kini saatnya menjalankan squid.<br /><br />Nah, Sampai di sini saja rasanya sudah cukup. untuk melanjutukan proses instalasi silahkan baca artikel saya <a href="/2012/05/install-proxy-server-squid-27-stable8.html">Cara Menginstall Squid Proxy Server</a> tapi dengan ditambahi dengan konfigurasi diatas.